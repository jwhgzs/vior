<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Static Template</title>
  </head>
  <body>
    <div id="app">
      <button @click="add()">添加</button>
      <ul>
        <custom-li
          $for="(k, v) in arr"
          :key="k"
          :value="v"
          @clicknotice="alert($args[0])"
        >
          <slot-provider name="invisibleNotice">
            <strong>我们只显示偶数值哦~</strong>
          </slot-provider>
        </custom-li>
        {{ this }}
      </ul>
    </div>
    <script type="module">
      import Vior from "../src/index.js";

      let CustomLiComponent = {
        html: `
		<li @click="$triggerEvent('onclicknotice', '哎哟你点我干嘛~~哎哟~')">
			<span $if="key % 2 === 0">Id: {{ value }}</span>
			<span $else>
				<slot-receiver name="invisibleNotice"></slot-receiver>
			</span>
		</li>
	`,
        attrs: ["key", "value"],
        events: ["onclicknotice"]
      };

      let viorIns = new Vior({
        vars() {
          return {
            arr: []
          };
        },
        funcs: {
          add() {
            this.vars.arr.push(this.vars.arr.length + 1);
          }
        },
        comps: {
          CustomLi: CustomLiComponent
        }
      }).mount(document.getElementById("app"));
    </script>
  </body>
</html>
